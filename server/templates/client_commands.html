<code>
  {% if page > 1 %}
    <span class="text-dark">...</span>
    <br>
  {% endif %}
  {% for command in commands[100 * (page - 1):100 * page] if command.command not in ("[system]", "ignorelist", "[ignorelist]") %}
    {% if not command.is_sent %}
      âŒ›
    {% endif %}
    {% if command.is_tg %}
      {% if command.tg_user.username %}
        <span class="bg-secondary-subtle rounded px-1"
              onclick="window.open('https://t.me/{{ command.tg_user.username }}', '_blank').focus()"  style="cursor: pointer;">{{ command.tg_user.username }}@tg</span>&gt;
      {% else %}
        {{ command.tg_user.id }}@tg&gt;
      {% endif %}
    {% else %}
      {{ command.user.username }}&gt;
    {% endif %}
    <span class="text-{{ command.category }}" title="{{ ctime(command.time) }}">
      {% for line in command.command.split("\n")[:-1] %}
        {% for idx, part in enumerate(line.split("`")) %}
          {% if idx % 2 == 0 %}
            <span>{{ part }}</span>
          {% else %}
            <span class="bg-secondary-subtle rounded px-1" onclick="copyToClipboard('{{ part }}')"
                  style="cursor: pointer;" title="Copy">{{ part }}</span>
          {% endif %}
        {% endfor %}
        <br>
      {% endfor %}
      {% for idx, part in enumerate(command.command.split("\n")[-1].split("`")) %}
        {% if idx % 2 == 0 %}
          <span>{{ part }}</span>
        {% else %}
          <span class="bg-secondary-subtle rounded px-1" onclick="copyToClipboard('{{ part }}')"
                style="cursor: pointer;" title="Copy">{{ part }}</span>
        {% endif %}
      {% endfor %}
      {% for argument in command.arguments %}
        {% if command.command in ("upload", "[download]") and argument.position == 1 %}
          <span class="bg-secondary-subtle rounded px-1" onclick="window.open('/clients/{{ client.id }}/download/{{ command.id }}', '_blank').focus()"
                style="cursor: pointer;" title="Download">&lt;file&gt;</span>
        {% else %}
          {% for line in argument.argument.split("\n")[:-1] %}
            {% for idx, part in enumerate(line.split("`")) %}
              {% if idx % 2 == 0 %}
                <span>{{ part }}</span>
              {% else %}
                <span class="bg-secondary-subtle rounded px-1" onclick="copyToClipboard('{{ part }}')"
                      style="cursor: pointer;" title="Copy">{{ part }}</span>
              {% endif %}
            {% endfor %}
            <br>
          {% endfor %}
          {% for idx, part in enumerate(argument.argument.split("\n")[-1].split("`")) %}
            {% if idx % 2 == 0 %}
              <span>{{ part }}</span>
            {% else %}
              <span class="bg-secondary-subtle rounded px-1" onclick="copyToClipboard('{{ part }}')"
                    style="cursor: pointer;" title="Copy">{{ part }}</span>
            {% endif %}
          {% endfor %}
        {% endif %}
      {% endfor %}
    </span>
    <br>
  {% endfor %}
</code>
{% if len(commands) > 100 %}
  <ul class="pagination m-0">
    {% if page > 1 %}
      <li class="page-item"><a class="page-link" href="?page={{ page - 1 }}">&lt;</a></li>
    {% endif %}
    {% for idx in range(1, int(len(commands) / 100 + 2)) %}
      {% if idx <= 3 or idx == page or idx >= int(len(commands) / 100 + 2) - 3 %}
        {% if idx == page %}
          <li class="page-item active"><a class="page-link" href="?page={{ idx }}">{{ idx }}</a></li>
        {% elif idx == int(len(commands) / 100 + 1) %}
          <li class="page-item"><a class="page-link" href="?">{{ idx }}</a></li>
        {% else %}
          <li class="page-item"><a class="page-link" href="?page={{ idx }}">{{ idx }}</a></li>
        {% endif %}
      {% endif %}
    {% endfor %}
    {% if page <= int(len(commands) / 100) %}
      <li class="page-item"><a class="page-link" href="?page={{ page + 1 }}">&gt;</a></li>
    {% endif %}
  </ul>
{% endif %}
